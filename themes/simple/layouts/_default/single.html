{{ define "main" }}
<main class="post">
  <article>
    <!-- 記事 -->
    <header class="post-header">
      <h1 class="post-title">{{ .Title }}</h1>
      <div class="post-meta">{{- .Date.Format "2006.01.02" -}}</div>
    </header>
    <div class="post-content">{{ .Content }}</div>

    <!-- 前のページ、次のページ -->
    <div class="prev-next">
      {{ with .PrevInSection }}
        <a class="prev" href="{{ .Permalink }}">
          {{ partial "article_card.html" .}}
        </a>
      {{ end }}
  
      {{ with .NextInSection }}
        <a class="next" href="{{ .Permalink }}">
          {{ partial "article_card.html" .}}
        </a>
      {{ end }}
    </div>

    <!-- フッター - タグ一覧 -->
    {{- if .Params.tags }}
    <footer class="post-footer">
      <ul class="post-tags">
        {{- range .Params.tags }}
        {{- $href := print (absURL "tags/") (urlize .) }}
        <li><a href="{{ $href }}">{{ . }}</a></li>
        {{- end }}
      </ul>
    </footer>
    {{- end }}

    <!-- コメント -->
    {{- if not (eq .Params.comments false) }}
      {{- if .Site.DisqusShortname }}
      <div id="disqus_thread"></div>
      <script>
        var disqus_shortname = '{{ .Site.DisqusShortname }}';
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript>
        Please enable JavaScript to view the
        <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
      </noscript>
      {{- end }}
    {{- end }}

  </article>

  {{ partial "aside.html" .}}
</main>
{{- end }}