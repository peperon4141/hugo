---
title: "GASでLINEBotを作成する方法"
date: 2021-07-19T08:45:56+09:00
linkTitle: "GASでLINEBotを作成する方法"
description: "GASでLINEBotを作成する方法"
draft: true
---

## はじめに
いい家計簿アプリが見つからなかったので、GASを使って家計簿アプリを作成してみました。  
この記事では全ての手順は解説せず、注意点だけを備忘録的に記載します。  

## LINEの設定

### LINE Developersアカウントを作成
以下からアカウントを作成する。  
https://developers.line.biz/ja/

### プロバイダー作成
LINE Developersの画面から、プロバイダーを作成する。  
プロバイダーとはサービスを提供する組織や個人のこと。  

### Webhookの利用を有効化
`Webhookの利用`が初期状態では無効なので有効化する。  
GASのウェブアプリがデプロイ済みであれば、URLも設定して検証を行う。  

### グループ・複数人チャットへの参加を許可する
`PUSH_MESSAGE`のAPIを利用する場合、そのLINEグループのGroupIDが必要となる。  
LINEグループへBotを追加するには、Botが承認を有効にする必要があるので、「グループ・複数人チャットへの参加を許可する」を有効にしておく。  

## GASの設定

### ログの設定
LINE Botを作成するに当たり、GASの`doPost`関数を利用します。  
しかし、`doPost`はログを確認できません。  
正確に言うと、エディタから実行した場合はログが見れますが、外部から実行された場合そのログは確認できません。  
外部から実行された場合でもログを確認するためには、Google Cloud Platform (GCP) と紐付ける必要があります。  
裏技的に、スプレッドシートをログ代わりにすることも可能です。  
