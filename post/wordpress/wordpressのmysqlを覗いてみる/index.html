<!doctype html><html lang><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>WordPressのMySQLを覗いてみる - こつこつナレッジ</title><meta name=description content="はじめに 前回の Dockerを使ってwordpress環境を瞬作 という投稿で、WordPressを立ち上げました。
今回は立ち上げたことを前提として、MySQLファイルを覗いていきましょう。
MySQLにログインする まずは、MySQLのDockerコンテナ内に入ります。
docker exec -it mysql bash 入った後、MySQLにログインします。
mysql -u wp_user -ppassword -u: ユーザー名
-p: パスワード
データベースの一覧 $ show databases; +--------------------+ | Database | +--------------------+ | information_schema | | wordpress | +--------------------+ 2 rows in set (0.10 sec) wordpressという名前のデータベースがあることがわかります。
テーブル一覧 use wordpress; でデータベースを指定できます。
テーブル一覧を見てみましょう。
$ show tables; +-----------------------+ | Tables_in_wordpress | +-----------------------+ | wp_commentmeta | | wp_comments | | wp_links | | wp_options | | wp_postmeta | | wp_posts | | wp_term_relationships | | wp_term_taxonomy | | wp_termmeta | | wp_terms | | wp_usermeta | | wp_users | +-----------------------+ 12 rows in set (0."><meta name=author content><link rel=stylesheet href=https://tech.choihack.com/css/style.5e3c1b94e7a3169da08d890a552f1f5104fb412b9941455faeaa419605a355f5.css><link href=https://tech.choihack.com/custom.css rel=stylesheet><link rel=apple-touch-icon href=https://tech.choihack.com/apple-touch-icon.png><link rel=icon href=https://tech.choihack.com/favicon.ico><meta name=generator content="Hugo 0.85.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-V3H6ME1VJT"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-V3H6ME1VJT',{anonymize_ip:!1})}</script><meta property="og:title" content="WordPressのMySQLを覗いてみる"><meta property="og:description" content="WordPressのMySQLを覗いてみる"><meta property="og:type" content="article"><meta property="og:url" content="https://tech.choihack.com/post/wordpress/wordpress%E3%81%AEmysql%E3%82%92%E8%A6%97%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-07-29T19:08:24+09:00"><meta property="article:modified_time" content="2021-07-29T19:08:24+09:00"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7379986362181342" crossorigin=anonymous></script><script>window.onload=function(){var a=Array.prototype.slice.call(document.querySelectorAll("pre"),0);a.forEach(function(b){var c=b.firstElementChild,d=c.dataset.lang,e=d?d.split(":")[1]:null,a;e&&(a=document.createElement('div'),a.textContent=e,a.classList.add('code-name'),b.insertBefore(a,c))})}</script></head><header class=header><nav class=nav><h1 class=logo><a href=https://tech.choihack.com/>こつこつナレッジ</a></h1><ul class=menu><li><a href=/>TOP</a></li><li><a href=/post/hugo>Hugo</a></li><li><a href=/post/gas>GAS</a></li><li><a href=/post/tradingview>TradingView</a></li><li><a href=/post/wordpress>WordPress</a></li><li><a href=/post/rubyonrails>RubyOnRails</a></li><li><a href=/post/gcp>GCP</a></li><li><a href=/post/others>雑記</a></li><li><a href=/search>検索</a></li></ul></nav><nav class=breadcrumb><ul><li><a href=https://tech.choihack.com/>TOP</a></li><li><a href=https://tech.choihack.com/post/>投稿</a></li><li><a href=https://tech.choihack.com/post/wordpress/>WordPress</a></li><li class=active>WordPressのMySQLを覗いてみる</li></ul></nav></header><body class="dark page"></body><main class=post><article><header class=post-header><h1 class=post-title>WordPressのMySQLを覗いてみる</h1><div class=post-meta>2021.07.29</div></header><div class=post-content><h2 id=はじめに>はじめに</h2><p>前回の
<a href=../docker%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%a6wordpress%e7%92%b0%e5%a2%83%e3%82%92%e7%9e%ac%e4%bd%9c/>Dockerを使ってwordpress環境を瞬作</a>
という投稿で、WordPressを立ち上げました。<br>今回は立ち上げたことを前提として、MySQLファイルを覗いていきましょう。</p><h2 id=mysqlにログインする>MySQLにログインする</h2><p>まずは、MySQLのDockerコンテナ内に入ります。</p><pre><code>docker exec -it mysql bash
</code></pre><p>入った後、MySQLにログインします。</p><pre><code>mysql -u wp_user -ppassword
</code></pre><p class=info><code>-u</code>: ユーザー名<br><code>-p</code>: パスワード</p><h2 id=データベースの一覧>データベースの一覧</h2><pre><code>$ show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| wordpress          |
+--------------------+
2 rows in set (0.10 sec)
</code></pre><p><code>wordpress</code>という名前のデータベースがあることがわかります。</p><h2 id=テーブル一覧>テーブル一覧</h2><p><code>use wordpress;</code> でデータベースを指定できます。<br>テーブル一覧を見てみましょう。</p><pre><code>$ show tables;
+-----------------------+
| Tables_in_wordpress   |
+-----------------------+
| wp_commentmeta        |
| wp_comments           |
| wp_links              |
| wp_options            |
| wp_postmeta           |
| wp_posts              |
| wp_term_relationships |
| wp_term_taxonomy      |
| wp_termmeta           |
| wp_terms              |
| wp_usermeta           |
| wp_users              |
+-----------------------+
12 rows in set (0.00 sec)
</code></pre><p class=info><code>show table status;</code>: このコマンドでより詳細を見ることができます。</p><h2 id=ユーザーを確認する>ユーザーを確認する</h2><p>例として、ユーザーテーブルを見てみましょう。</p><pre><code>$ select * from wp_users;
+----+------------+------------------------------------+---------------+-----------------------+-----------------------+---------------------+---------------------+-------------+--------------+
| ID | user_login | user_pass                          | user_nicename | user_email            | user_url              | user_registered     | user_activation_key | user_status | display_name |
+----+------------+------------------------------------+---------------+-----------------------+-----------------------+---------------------+---------------------+-------------+--------------+
|  1 | admin      | $P$BIGZ1.I.CRyv4EbxMZ1Jpt/iQNSEWV/ | admin         | example@gmail.com | http://localhost:8080 | 2021-07-29 11:32:15 |                     |           0 | admin        |
+----+------------+------------------------------------+---------------+-----------------------+-----------------------+---------------------+---------------------+-------------+--------------+
1 row in set (0.00 sec)
</code></pre></div><div class=prev-next><a class=prev href=https://tech.choihack.com/post/wordpress/docker%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6wordpress%E7%92%B0%E5%A2%83%E3%82%92%E7%9E%AC%E4%BD%9C/><article class=article-card><header class=article-card-header><h2>Dockerを使ってWordPress環境を瞬作</h2></header><section class=article-card-content><p>はじめに 色んな技術を勉強する時に、一番厄介なのが環境構築です。
失敗しても捨ててすぐに作りなおせるような環境があれば、勉強が捗りますよね？
そこでdockerを使ってWordPress環境を構築できるようにしました。
docker-composeで一瞬で環境構築 version: '3' services: wp: container_name: wordpress # 名前を付ける image: wordpress:5.4-php7.4-apache # 基となるdockerイメージを設定 ports: # docker内の80ポートを8080ポートとして使用 - 8080:80 depends_on: # dbを待ってから立ち上げる - db environment: # 環境変数を設定する WORDPRESS_DB_HOST: mysql:3306 # mysqlサーバーの3306ポートを指定 WORDPRESS_DB_PASSWORD: password # データベースのパスワード WORDPRESS_DB_NAME: wordpress # データベースの名前 WORDPRESS_DB_USER: wp_user # データベースのユーザー名 volumes: # ホストPCにボリュームをマウントする - ./apache/log:/var/log/apache2 - ./public:/var/www/html db: container_name: mysql image: mysql:5.7 environment: # WordPressの方で指定した設定と同じにしておく必要がある MYSQL_ROOT_PASSWORD: password MYSQL_DATABASE: wordpress MYSQL_USER: wp_user MYSQL_PASSWORD: password volumes: - ....</p></section><footer class=article-card-footer><time>2021-07-29</time></footer></article></a><a class=next href=https://tech.choihack.com/post/wordpress/wordpress%E3%81%AE%E3%82%AA%E3%83%AA%E3%82%B8%E3%83%8A%E3%83%AB%E3%83%86%E3%83%BC%E3%83%9E%E3%82%92%E4%BD%9C%E6%88%90/><article class=article-card><header class=article-card-header><h2>WordPressのオリジナルテーマを作成</h2></header><section class=article-card-content><p>はじめに WordPressでオリジナルテーマ作成時に基本となる知識を整理しました。
テーマ階層 WordPressは以下のテンプレート階層に従って各種ページに対して適用されるテンプレートファイルを決定している。
ページにアクセスした場合、この図の左から順番に優先的に最適なテンプレートが選び出される。
index.phpは全てのページに適用される最も優先度が低いテンプレートファイルです。
テンプレート階層 テーマの最小構成 テーマを作成するのに必要な最低限のファイルは以下です。
index.php style.css WordPressで理解必須のループ ループとはWordPressの投稿を表示するために使用される処理です。
テンプレートタグ やプラグインの一部の説明で、このタグ（プラグイン）はループ内で使いますとある場合、そのタグはループの中で使う必要があります。
例として、the_title()（投稿のタイトルを取得する）は、ループ内でしか使用できません。
ループは以下のように書きます。
&lt;?php if ( have_posts() ) { while ( have_posts() ) { the_post(); // // 投稿がここに表示される // } // end while } // end if ?> 参考 ループ ...</p></section><footer class=article-card-footer><time>2021-08-01</time></footer></article></a></div></article><aside class=aside><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#はじめに>はじめに</a></li><li><a href=#mysqlにログインする>MySQLにログインする</a></li><li><a href=#データベースの一覧>データベースの一覧</a></li><li><a href=#テーブル一覧>テーブル一覧</a></li><li><a href=#ユーザーを確認する>ユーザーを確認する</a></li></ul></nav><h2>関連書籍</h2><div class=amazon><p>Amazon</p><a target=_blank href="https://www.amazon.co.jp/dp/B00QGBORXI/ref=nosim?tag=tech-choihack0b-22"><img class=amazon-img src="//ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&MarketPlace=JP&ASIN=B00QGBORXI&ServiceVersion=20070822&ID=AsinImage&WS=1&Format=_SL350_&tag=tech-choihack0b-22"><section class=amazon-title><p>いちばんやさしいWordPressの教本 人気講師が教える本格Webサイトの作り方 第2版 WordPress 4.x対応</p></section></a></div><div class="ads side"><h2>おすすめ</h2><iframe src="https://rcm-fe.amazon-adsystem.com/e/cm?o=9&p=21&l=ur1&category=kindleunlimited&banner=178KN9KSS2XDCENS02G2&f=ifr&linkID=81378df7265b0adc45354f106ee4f650&t=tech-choihack-22&tracking_id=tech-choihack-22" width=125 height=125 scrolling=no border=0 marginwidth=0 style=border:none frameborder=0></iframe></div></aside></main></body><footer class=footer><h2>本は聴く時代に！圧倒的おすすめ！</h2><iframe src="https://rcm-fe.amazon-adsystem.com/e/cm?o=9&p=12&l=ur1&category=audible&banner=04TW4TSNDNB96FMCBT82&f=ifr&linkID=4522149f1c95f7594ee105cf8eef4890&t=peperon41410c-22&tracking_id=peperon41410c-22" width=300 height=250 scrolling=no border=0 marginwidth=0 style=border:none frameborder=0></iframe><p class=text-center>© - 2021 - こつこつナレッジ</p></footer><script src=https://tech.choihack.com/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script></html>