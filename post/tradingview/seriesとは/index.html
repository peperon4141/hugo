<!doctype html><html lang><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Seriesとは - こつこつナレッジ</title><meta name=description content="はじめに PineScriptを使用する上で、最も重要なのがSeriesの理解です。
Seriesは若干クセがあるので、しっかりと理解する必要があります。
Pineスクリプトの型システム Pineスクリプトには以下の基本的な9つの型が存在します。
 int float bool color string line label plot hline  これらの型はいくつかの形式で存在します。
形式には5種類あります。
 literal const input simple series  型と形式は合わせて参照されます。
例えばliteral bool型、input bool型&mldr;のようにコンパイラによって識別されます。
また、以下のような型も存在します。
 array void na (not available) tuple type  形式 Literal Literalは固定された値を表すための特別な表記法です。
Literalは常に以下のどれかの型形式になります。
 literal float (3.14, 6.02E-23, 3e8) literal int (42) literal bool (true, false) literal string (&ldquo;A text literal&rdquo;) literal color (#FF55C6)  ビルトインのopen,high,low,&mldr;などはLiterarlではありません。
これらはserires formです。
Const Const形式の値は次の特徴があります。"><meta name=author content><link rel=stylesheet href=https://tech.choihack.com/scss/style.a1c07ff09977aa847ea32d7ab05ba0cca0e0f582011a9794e629bcd0e019d6ca.css><link href=https://tech.choihack.com/custom.css rel=stylesheet><link rel=apple-touch-icon href=https://tech.choihack.com/apple-touch-icon.png><link rel=icon href=https://tech.choihack.com/favicon.ico><meta name=generator content="Hugo 0.85.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-V3H6ME1VJT"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-V3H6ME1VJT',{anonymize_ip:!1})}</script><meta property="og:title" content="Seriesとは"><meta property="og:description" content="Seriesとは"><meta property="og:type" content="article"><meta property="og:url" content="https://tech.choihack.com/post/tradingview/series%E3%81%A8%E3%81%AF/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-07-26T18:26:57+09:00"><meta property="article:modified_time" content="2021-07-26T18:26:57+09:00"></head><header class=header><nav class=nav><h1 class=logo><a href=https://tech.choihack.com/>こつこつナレッジ</a></h1><ul class=menu><li><a href=/>TOP</a></li><li><a href=/post/hugo>Hugo</a></li><li><a href=/post/gas>GAS</a></li><li><a href=/post/tradingview>TradingView</a></li><li><a href=/search>検索</a></li></ul></nav><nav class=breadcrumb><ul><li><a href=https://tech.choihack.com/>TOP</a></li><li><a href=https://tech.choihack.com/post/>投稿</a></li><li><a href=https://tech.choihack.com/post/tradingview/>TradingView</a></li><li class=active>Seriesとは</li></ul></nav></header><body class="dark page"></body><main class=post><article><header class=post-header><h1 class=post-title>Seriesとは</h1><div class=post-meta>2021.07.26</div></header><div class=post-content><h2 id=はじめに>はじめに</h2><p>PineScriptを使用する上で、最も重要なのがSeriesの理解です。<br>Seriesは若干クセがあるので、しっかりと理解する必要があります。</p><h2 id=pineスクリプトの型システム>Pineスクリプトの型システム</h2><p>Pineスクリプトには以下の基本的な9つの<code>型</code>が存在します。</p><ul><li>int</li><li>float</li><li>bool</li><li>color</li><li>string</li><li>line</li><li>label</li><li>plot</li><li>hline</li></ul><p>これらの型はいくつかの<code>形式</code>で存在します。<br><code>形式</code>には5種類あります。</p><ul><li>literal</li><li>const</li><li>input</li><li>simple</li><li>series</li></ul><p><code>型</code>と<code>形式</code>は合わせて参照されます。<br>例えばliteral bool型、input bool型&mldr;のようにコンパイラによって識別されます。</p><p>また、以下のような型も存在します。</p><ul><li>array</li><li>void</li><li>na (not available)</li><li>tuple type</li></ul><h2 id=形式>形式</h2><h3 id=literal>Literal</h3><p>Literalは固定された値を表すための特別な表記法です。<br>Literalは常に以下のどれかの型形式になります。</p><ul><li>literal float (3.14, 6.02E-23, 3e8)</li><li>literal int (42)</li><li>literal bool (true, false)</li><li>literal string (&ldquo;A text literal&rdquo;)</li><li>literal color (#FF55C6)</li></ul><p class=info>ビルトインのopen,high,low,&mldr;などはLiterarlではありません。<br>これらは<code>serires form</code>です。</p><h3 id=const>Const</h3><p>Const形式の値は次の特徴があります。</p><ul><li>PineScript実行中に変更されない</li><li>コンパイル時に確定されるか計算される</li></ul><p>例えば</p><pre><code>c1 = 0
c2 = c1 + 1
c3 = c1 + 1
if open &gt; close
    c3 := 0
</code></pre><p><code>c1</code>は<code>const int</code>です。<br>理由は<code>literal int</code>によって初期化されるからです。<br><code>c2</code>も<code>const int</code>で、<code>const int</code>だけの計算で初期化されるからです。<br><code>c3</code>は<code>series int</code>で、理由は実行中に変更されるからです。</p><h3 id=input>Input</h3><p>Inputは以下の特徴があります。</p><ul><li>PineScript実行中に変更されない</li><li>コンパイル時には未確定</li><li>input関数に基づいている</li></ul><p>例えば</p><pre><code>p = input(10, title=&quot;Period&quot;)
</code></pre><p>pは<code>input integer</code>です。</p><h3 id=simple>Simple</h3><p>Simpleは以下の特徴があります。</p><ul><li>PineScript実行中に変更されない</li><li>コンパイル時に未確定</li></ul><p>この値は、チャートのシンボルの情報に基づいています。<br>例えば、ビルトイン変数の<code>syminfo.mintick</code>は<code>simple float</code>です。<br><code>simple</code>は省略されることもあるので、単に<code>float</code>と呼ばれることもあります。</p><h3 id=series>Series</h3><p>Seriesは以下の特徴があります。</p><ul><li>PineScript実行中に変更される</li><li>メインチャートのシンボルの各バーに関連付けられた履歴の値を保存します</li><li><code>[]</code>演算子を使用してアクセスできる</li><li>seriesの最後（つまり最新のバー）に関連付けられている値のみが読み書き両方できる</li></ul><p>seriesはPineScriptで最も一般的な形式です。<br>ビルトインのseries変数は例えば、open、high、low、close、volume、timeなどです。<br>これらのseriesのサイズは現在のティッカーの時間枠で使用可能なバーの数と同じです。<br>Seriesには数値かna（not avairable：使用不可）が含まれる場合があります。</p><p>例えば</p><pre><code>a = open + close // 2つのSeriesの加算
b = high / 2     // integer literal const による、Seriesの除算
c = close[1]     // 前のcloseの値の参照
</code></pre><h2 id=参考>参考</h2><ul><li><a href=https://www.tradingview.com/pine-script-docs/en/v4/language/Type_system.html#series target=_blank>Series</a></li></ul></div><div class=prev-next><a class=prev href=https://tech.choihack.com/post/tradingview/%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E6%8F%8F%E7%94%BB%E6%A9%9F%E8%83%BD/><article class=article-card><header class=article-card-header><h2>ボックス描画機能</h2></header><section class=article-card-content><p>はじめに PineScriptにボックス描画機能が追加されました。
この機能ではチャート上に長方形を簡単に書くことができます。 サンプルを踏まえて、PineScriptでの使い方を見ていきます。
サンプル //@version=4 study("Box Example", overlay=true) c_green = color.rgb(33, 150, 243, 80) ll = lowest(10) hh = highest(10) b1 = box(na) if barstate.islast b1 := box.new(bar_index[9], hh, bar_index, ll, bgcolor=c_green, border_style=line.style_dashed) box.delete(b1[1]) //@version=4
バージョン4のPineScriptを使用しています。 study("Box Example", overlay=true)
Box Exampleという名前でインジケータを作成します。
overlay=trueでチャートを重ねて表示します。 c_green = color.rgb(33, 150, 243, 80)
color.rgb(red, green, blue, transp)の文法で色を定義します。
各色は0~255,transpは0(不透明)~100(不可視)です。 ll = lowest(10)
lowestは指定された過去バーの範囲での最安値を意味します。 この場合は過去10本のバーの中での最安値のことです。 hh = highest(10)
lowestと逆で過去10本のバーの中で最高値を意味します。 b1 = box(na)
ifが別のスコープを作成するので、再代入する元になるb1変数を先に空で定義しておきます。 if barstate.islast barstate....</p></section><footer class=article-card-footer><time>2021-07-26</time></footer></article></a></div></article><aside class=aside><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#はじめに>はじめに</a></li><li><a href=#pineスクリプトの型システム>Pineスクリプトの型システム</a></li><li><a href=#形式>形式</a><ul><li><a href=#literal>Literal</a></li><li><a href=#const>Const</a></li><li><a href=#input>Input</a></li><li><a href=#simple>Simple</a></li><li><a href=#series>Series</a></li></ul></li><li><a href=#参考>参考</a></li></ul></nav></aside></main></body><footer class=footer><p class=text-center>© - 2021 - こつこつナレッジ</p></footer><script src=https://tech.choihack.com/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script></html>