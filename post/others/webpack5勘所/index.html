<!doctype html><html lang><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Webpack5勘所 - こつこつナレッジ</title><meta name=description content="はじめに Webpack5が 2020/10/10にリリース された。
Webpackは中規模以上のweb軽開発ではデファクトスタンダードなんじゃないだろうか。
自分が関わっているほとんどすべてのフロントエンドではWebpackが使用されている。
慣れるまでは難しいが、学んだ内容を備忘録的にこのページにまとめる。
基本概念 Webpackとは基本的にはJavaScriptアプリケーション用の静的モジュールバンドラーです。
つまり、基準となるJSファイルを指定することで、それに紐づく依存関係モジュールを1つのファイルに結合してくれます。
これを理解するために基本コンセプトは以下です。    概念 意味     entry 依存関係の起点となるファイル。デフォルトで./src/index.js   output 出力パスやファイル名。   loaders JSとJSONファイルだけ理解するWebpackに、変換可能なモジュールを追加します。主にtest(対象ファイルの識別)とuse(どのローダーを使用するか)の2つのプロパティを使って設定します。   plugins requireしてpluginsに追加することで、機能を追加できます。   mode developmentやproductionまたは独自の環境の最適化に使用できます。    entry / output [https://webpack.js.org/concepts/entry-points/](Entry Points) https://webpack.js.org/concepts/output/ 最も単純な例は以下のような設定です。
module.exports = { entry: './src/file.js', output: { filename: 'bundle.js', }, }; より複雑な設定では、複数ページのアプリケーション用にマルチエントリの設定や、ouputのファイル名やパス名を動的に変更することも可能です。
Loaders  https://webpack.js.org/concepts/loaders/ 例として、以下のようにローダーを追加します。
npm install --save-dev css-loader ts-loader module.exports = { module: { rules: [ { test: /\."><meta name=author content><link rel=stylesheet href=https://tech.choihack.com/css/style.5e3c1b94e7a3169da08d890a552f1f5104fb412b9941455faeaa419605a355f5.css><link href=https://tech.choihack.com/custom.css rel=stylesheet><link rel=apple-touch-icon href=https://tech.choihack.com/apple-touch-icon.png><link rel=icon href=https://tech.choihack.com/favicon.ico><meta name=generator content="Hugo 0.85.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-V3H6ME1VJT"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-V3H6ME1VJT',{anonymize_ip:!1})}</script><meta property="og:title" content="Webpack5勘所"><meta property="og:description" content="Webpack5勘所"><meta property="og:type" content="article"><meta property="og:url" content="https://tech.choihack.com/post/others/webpack5%E5%8B%98%E6%89%80/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-11-28T16:16:28+09:00"><meta property="article:modified_time" content="2021-11-28T16:16:28+09:00"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7379986362181342" crossorigin=anonymous></script><script>window.onload=function(){var a=Array.prototype.slice.call(document.querySelectorAll("pre"),0);a.forEach(function(b){var c=b.firstElementChild,d=c.dataset.lang,e=d?d.split(":")[1]:null,a;e&&(a=document.createElement('div'),a.textContent=e,a.classList.add('code-name'),b.insertBefore(a,c))})}</script></head><header class=header><nav class=nav><h1 class=logo><a href=https://tech.choihack.com/>こつこつナレッジ</a></h1><ul class=menu><li><a href=/>TOP</a></li><li><a href=/post/hugo>Hugo</a></li><li><a href=/post/gas>GAS</a></li><li><a href=/post/tradingview>TradingView</a></li><li><a href=/post/wordpress>WordPress</a></li><li><a href=/post/rubyonrails>RubyOnRails</a></li><li><a href=/post/gcp>GCP</a></li><li><a href=/post/others>雑記</a></li><li><a href=/search>検索</a></li></ul></nav><nav class=breadcrumb><ul><li><a href=https://tech.choihack.com/>TOP</a></li><li><a href=https://tech.choihack.com/post/>投稿</a></li><li><a href=https://tech.choihack.com/post/others/>雑記</a></li><li class=active>Webpack5勘所</li></ul></nav></header><body class="dark page"></body><main class=post><article><header class=post-header><h1 class=post-title>Webpack5勘所</h1><div class=post-meta>2021.11.28</div></header><div class=post-content><h2 id=はじめに>はじめに</h2><p>Webpack5が
<a href=https://webpack.js.org/blog/2020-10-10-webpack-5-release/ target=_blank>2020/10/10にリリース</a>
された。<br>Webpackは中規模以上のweb軽開発ではデファクトスタンダードなんじゃないだろうか。<br>自分が関わっているほとんどすべてのフロントエンドではWebpackが使用されている。<br>慣れるまでは難しいが、学んだ内容を備忘録的にこのページにまとめる。</p><h2 id=基本概念>基本概念</h2><p>Webpackとは基本的にはJavaScriptアプリケーション用の静的モジュールバンドラーです。<br>つまり、基準となるJSファイルを指定することで、それに紐づく依存関係モジュールを1つのファイルに結合してくれます。<br>これを理解するために基本コンセプトは以下です。</p><table><thead><tr><th>概念</th><th>意味</th></tr></thead><tbody><tr><td>entry</td><td>依存関係の起点となるファイル。デフォルトで./src/index.js</td></tr><tr><td>output</td><td>出力パスやファイル名。</td></tr><tr><td>loaders</td><td>JSとJSONファイルだけ理解するWebpackに、変換可能なモジュールを追加します。主に<code>test</code>(対象ファイルの識別)と<code>use</code>(どのローダーを使用するか)の2つのプロパティを使って設定します。</td></tr><tr><td>plugins</td><td>requireしてpluginsに追加することで、機能を追加できます。</td></tr><tr><td>mode</td><td>developmentやproductionまたは独自の環境の最適化に使用できます。</td></tr></tbody></table><h2 id=entry--output>entry / output</h2><p>[https://webpack.js.org/concepts/entry-points/](Entry Points)
<a href=Output>https://webpack.js.org/concepts/output/</a></p><p>最も単純な例は以下のような設定です。</p><pre><code>module.exports = {
  entry: './src/file.js',
  output: {
    filename: 'bundle.js',
  },
};
</code></pre><p>より複雑な設定では、複数ページのアプリケーション用にマルチエントリの設定や、ouputのファイル名やパス名を動的に変更することも可能です。</p><h2 id=loaders>Loaders</h2><p><a href=Loaders>https://webpack.js.org/concepts/loaders/</a></p><p>例として、以下のようにローダーを追加します。</p><pre><code>npm install --save-dev css-loader ts-loader
</code></pre><div class=highlight><pre class=chroma><code class=language-webpack.config.js data-lang=webpack.config.js><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>module</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>rules</span><span class=o>:</span> <span class=p>[</span>
      <span class=p>{</span> <span class=nx>test</span><span class=o>:</span> <span class=sr>/\.css$/</span><span class=p>,</span> <span class=nx>use</span><span class=o>:</span> <span class=s1>&#39;css-loader&#39;</span> <span class=p>},</span>
      <span class=p>{</span> <span class=nx>test</span><span class=o>:</span> <span class=sr>/\.ts$/</span><span class=p>,</span> <span class=nx>use</span><span class=o>:</span> <span class=s1>&#39;ts-loader&#39;</span> <span class=p>},</span>
    <span class=p>],</span>
  <span class=p>},</span>
<span class=p>};</span>
</code></pre></div><p>この例だと、.cssファイルに対してcss-loaderを.tsファイルに対してts-laoderを適用します。</p><p>以下の例のように、.cssに対して複数のLoaderを適用することも可能です。<br>この場合は、下から順にLoaderが適用されます。</p><pre><code>module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [
          { loader: 'style-loader' },
          {
            loader: 'css-loader',
            options: {
              modules: true
            }
          },
          { loader: 'sass-loader' }
        ]
      }
    ]
  }
};
</code></pre><p>ちなみに、css-loaderはCSSをJS用に変換するLoader、style-loaderはCSSをJSに挿入するLoaderです。</p><h2 id=plugins>Plugins</h2><p><a href=Plugins>https://webpack.js.org/concepts/plugins/</a></p><p>Pluginsは主にLoaderではできないことを実行するために使用されます。</p><p>例えば、<code>HtmlWebpackPlugin</code>は以下のように使用できます。</p><pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  ...
  plugins: [
    new HtmlWebpackPlugin({ template: './src/index.html' }),
  ],
};
</code></pre><p>多くのプラグインはオプションを定義できます。</p><p><a href=Plugins>https://webpack.js.org/plugins/</a>
からほしいPluginを探せます。</p><p>個人的には
<a href=HtmlWebpackPlugin>https://webpack.js.org/plugins/html-webpack-plugin/</a>
は頻出です。<br>自動で依存関係のJSをHTMLに挿入してくれるので、漏れが無く便利です。</p></div><div class=prev-next><a class=prev href=https://tech.choihack.com/post/others/ionicvue%E3%82%92%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B/><article class=article-card><header class=article-card-header><h2>Ionic vueを試してみる</h2></header><section class=article-card-content><p>はじめに Ionicとは、ハイブリッドアプリを作成するフレームワークです。
Ionicは元々Angularというフレームワークに依存していましたが、Vue.jsが使えるようになったので、実際に試してみようと思います。
アプリを作る IonicのCLIをインストール yarn global add @ionic/cli@latest global: local内でどこからでも参照できるようにします Ionic CLIの6.17.0がインストールされました。
以下のようなコマンドがあります。
completion ...................... (experimental) Enables tab-completion for Ionic CLI commands. config &lt;subcommand> ............. Manage CLI and project config values (subcommands: get, set, unset) deploy &lt;subcommand> ............. (paid) Appflow Deploy functionality (subcommands: manifest) docs ............................ Open the Ionic documentation website info ............................ Print project, system, and environment information init ............................ (beta) Initialize existing projects with Ionic login ....</p></section><footer class=article-card-footer><time>2021-08-26</time></footer></article></a><a class=next href=https://tech.choihack.com/post/others/%E3%83%9E%E3%82%A4%E3%83%B3%E3%83%89%E3%83%9E%E3%83%83%E3%83%97%E8%AA%BF%E6%9F%BB/><article class=article-card><header class=article-card-header><h2>マインドマップ調査</h2></header><section class=article-card-content><p>はじめに マインドマップ関連のツールや技術に関して調べた結果の議事録。
マインドマップツール Mindmeister Miro Whimsical その他
複雑GUIの会 Markdownツール [HackeMD](https://hackmd.io/ まとめ マインドマップを作るための技術は主に以下の3種類
HTML SVG Canvas Canvasは実装に手間がかかるが、表現力が最も高い。
また、画像でのエクスポートが用意。
SVGは十分表現力が高いが、テキストの処理が弱い。
HTMLでもマインドマップを作成可能だが、曲線の表現はSVGなどを頼るしかないので、簡易的なマインドマップしか作れない。...</p></section><footer class=article-card-footer><time>2022-08-18</time></footer></article></a></div></article><aside class=aside><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#はじめに>はじめに</a></li><li><a href=#基本概念>基本概念</a></li><li><a href=#entry--output>entry / output</a></li><li><a href=#loaders>Loaders</a></li><li><a href=#plugins>Plugins</a></li></ul></nav><h2>関連書籍</h2><div class=amazon><p>Amazon</p><a target=_blank href="https://www.amazon.co.jp/dp/B015IZT854/ref=nosim?tag=tech-choihack03-22"><img class=amazon-img src="//ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&MarketPlace=JP&ASIN=B015IZT854&ServiceVersion=20070822&ID=AsinImage&WS=1&Format=_SL350_&tag=tech-choihack03-22"><section class=amazon-title><p>Docker実践入門――Linuxコンテナ技術の基礎から応用まで</p></section></a></div><div class="ads side"><h2>おすすめ</h2><iframe src="https://rcm-fe.amazon-adsystem.com/e/cm?o=9&p=21&l=ur1&category=kindleunlimited&banner=178KN9KSS2XDCENS02G2&f=ifr&linkID=81378df7265b0adc45354f106ee4f650&t=tech-choihack03-22&tracking_id=tech-choihack03-22" width=125 height=125 scrolling=no border=0 marginwidth=0 style=border:none frameborder=0></iframe></div></aside></main></body><footer class=footer><h2>本は聴く時代に！圧倒的おすすめ！</h2><iframe src="https://rcm-fe.amazon-adsystem.com/e/cm?o=9&p=12&l=ur1&category=audible&banner=04TW4TSNDNB96FMCBT82&f=ifr&linkID=4522149f1c95f7594ee105cf8eef4890&t=peperon41410c-22&tracking_id=peperon41410c-22" width=300 height=250 scrolling=no border=0 marginwidth=0 style=border:none frameborder=0></iframe><p class=text-center>© - 2021 - こつこつナレッジ</p></footer><script src=https://tech.choihack.com/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script></html>