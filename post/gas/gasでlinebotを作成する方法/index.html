<!doctype html><html lang><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>GASでLINEBotを作成する方法 - こつこつナレッジ</title><meta name=description content="はじめに いい家計簿アプリが見つからなかったので、GASを使って家計簿アプリを作成してみました。
この記事では全ての手順は解説せず、注意点だけを備忘録的に記載します。
LINEの設定 LINE Developersアカウントを作成 以下からアカウントを作成する。
https://developers.line.biz/ja/
プロバイダー作成 LINE Developersの画面から、プロバイダーを作成する。
プロバイダーとはサービスを提供する組織や個人のこと。
Webhookの利用を有効化 Webhookの利用が初期状態では無効なので有効化する。
GASのウェブアプリがデプロイ済みであれば、URLも設定して検証を行う。
グループ・複数人チャットへの参加を許可する PUSH_MESSAGEのAPIを利用する場合、そのLINEグループのGroupIDが必要となる。
LINEグループへBotを追加するには、Botが承認を有効にする必要があるので、「グループ・複数人チャットへの参加を許可する」を有効にしておく。
GASの設定 ログの設定 LINE Botを作成するに当たり、GASのdoPost関数を利用します。
しかし、doPostはログを確認できません。
正確に言うと、エディタから実行した場合はログが見れますが、外部から実行された場合そのログは確認できません。
外部から実行された場合でもログを確認するためには、Google Cloud Platform (GCP) と紐付ける必要があります。
裏技的に、スプレッドシートをログ代わりにすることも可能です。"><meta name=author content><link rel=stylesheet href=https://tech.choihack.com/scss/style.a1c07ff09977aa847ea32d7ab05ba0cca0e0f582011a9794e629bcd0e019d6ca.css><link href=https://tech.choihack.com/custom.css rel=stylesheet><link rel=apple-touch-icon href=https://tech.choihack.com/apple-touch-icon.png><link rel=icon href=https://tech.choihack.com/favicon.ico><meta name=generator content="Hugo 0.85.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-V3H6ME1VJT"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-V3H6ME1VJT',{anonymize_ip:!1})}</script><meta property="og:title" content="GASでLINEBotを作成する方法"><meta property="og:description" content="GASでLINEBotを作成する方法"><meta property="og:type" content="article"><meta property="og:url" content="https://tech.choihack.com/post/gas/gas%E3%81%A7linebot%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-07-19T08:45:56+09:00"><meta property="article:modified_time" content="2021-07-19T08:45:56+09:00"></head><header class=header><nav class=nav><h1 class=logo><a href=https://tech.choihack.com/>こつこつナレッジ</a></h1><ul class=menu><li><a href=/>TOP</a></li><li><a href=/post/hugo>Hugo</a></li><li><a href=/post/gas>GAS</a></li><li><a href=/post/tradingview>TradingView</a></li><li><a href=/search>検索</a></li></ul></nav><nav class=breadcrumb><ul><li><a href=https://tech.choihack.com/>TOP</a></li><li><a href=https://tech.choihack.com/post/>投稿</a></li><li><a href=https://tech.choihack.com/post/gas/>GAS</a></li><li class=active>GASでLINEBotを作成する方法</li></ul></nav></header><body class="dark page"></body><main class=post><article><header class=post-header><h1 class=post-title>GASでLINEBotを作成する方法</h1><div class=post-meta>2021.07.19</div></header><div class=post-content><h2 id=はじめに>はじめに</h2><p>いい家計簿アプリが見つからなかったので、GASを使って家計簿アプリを作成してみました。<br>この記事では全ての手順は解説せず、注意点だけを備忘録的に記載します。</p><h2 id=lineの設定>LINEの設定</h2><h3 id=line-developersアカウントを作成>LINE Developersアカウントを作成</h3><p>以下からアカウントを作成する。<br><a href=https://developers.line.biz/ja/>https://developers.line.biz/ja/</a></p><h3 id=プロバイダー作成>プロバイダー作成</h3><p>LINE Developersの画面から、プロバイダーを作成する。<br>プロバイダーとはサービスを提供する組織や個人のこと。</p><h3 id=webhookの利用を有効化>Webhookの利用を有効化</h3><p><code>Webhookの利用</code>が初期状態では無効なので有効化する。<br>GASのウェブアプリがデプロイ済みであれば、URLも設定して検証を行う。</p><h3 id=グループ複数人チャットへの参加を許可する>グループ・複数人チャットへの参加を許可する</h3><p><code>PUSH_MESSAGE</code>のAPIを利用する場合、そのLINEグループのGroupIDが必要となる。<br>LINEグループへBotを追加するには、Botが承認を有効にする必要があるので、「グループ・複数人チャットへの参加を許可する」を有効にしておく。</p><h2 id=gasの設定>GASの設定</h2><h3 id=ログの設定>ログの設定</h3><p>LINE Botを作成するに当たり、GASの<code>doPost</code>関数を利用します。<br>しかし、<code>doPost</code>はログを確認できません。<br>正確に言うと、エディタから実行した場合はログが見れますが、外部から実行された場合そのログは確認できません。<br>外部から実行された場合でもログを確認するためには、Google Cloud Platform (GCP) と紐付ける必要があります。<br>裏技的に、スプレッドシートをログ代わりにすることも可能です。</p></div><div class=prev-next></div></article><aside class=aside><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#はじめに>はじめに</a></li><li><a href=#lineの設定>LINEの設定</a><ul><li><a href=#line-developersアカウントを作成>LINE Developersアカウントを作成</a></li><li><a href=#プロバイダー作成>プロバイダー作成</a></li><li><a href=#webhookの利用を有効化>Webhookの利用を有効化</a></li><li><a href=#グループ複数人チャットへの参加を許可する>グループ・複数人チャットへの参加を許可する</a></li></ul></li><li><a href=#gasの設定>GASの設定</a><ul><li><a href=#ログの設定>ログの設定</a></li></ul></li></ul></nav></aside></main></body><footer class=footer><p class=text-center>© - 2021 - こつこつナレッジ</p></footer><script src=https://tech.choihack.com/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script></html>